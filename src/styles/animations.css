/* Slow, smooth entrance animations and scroll reveal */

@keyframes slideInLeft {
  from { opacity: 0; transform: translateX(-92px) translateZ(0); }
  65% { opacity: 0.98; transform: translateX(-8px) translateZ(10px); }
  to { opacity: 1; transform: translateX(0) translateZ(20px); }
}

@keyframes slideInRight {
  from { opacity: 0; transform: translateX(92px) translateZ(0); }
  65% { opacity: 0.98; transform: translateX(8px) translateZ(10px); }
  to { opacity: 1; transform: translateX(0) translateZ(20px); }
}

/* Hero lines: animate when element is in-view */
.slide-left { opacity: 0; transform: translateX(-48px); will-change: transform, opacity; }
.slide-right { opacity: 0; transform: translateX(48px); will-change: transform, opacity; }
.slide-left.in-view { animation: slideInLeft 900ms cubic-bezier(.22,1,.36,1) forwards; animation-delay: var(--delay, 120ms); }
.slide-right.in-view { animation: slideInRight 900ms cubic-bezier(.22,1,.36,1) forwards; animation-delay: var(--delay, 220ms); }

/* Reveal on scroll: long, gently easing transitions */
.reveal { opacity: 0; transform: translateY(48px); transition: transform 900ms cubic-bezier(.22,1,.36,1), opacity 900ms cubic-bezier(.22,1,.36,1); }
.reveal.in-view { opacity: 1; transform: translateY(0); }

.reveal-left { transform: translateX(-48px); }
.reveal-left.in-view { transform: translateX(0); }

.reveal-right { transform: translateX(48px); }
.reveal-right.in-view { transform: translateX(0); }

/* small helper to stagger children using inline --delay */
.reveal { transition-delay: var(--delay, 0ms); }

/* subtle focus ring for keyboard users */
:focus { outline: none; }

/* Card tilt and cursor-follow glow */
:root { --mx: 50%; --my: 50%; --tiltX: 0; --tiltY: 0; }

.card-tilt { position: relative; transform-origin: center; transition: transform 480ms cubic-bezier(.18,.9,.2,1), box-shadow 480ms cubic-bezier(.18,.9,.2,1); will-change: transform; }
.card-tilt::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  background: radial-gradient(circle at var(--mx,50%) var(--my,50%), rgba(59,130,246,0.14) 0px, rgba(59,130,246,0.06) 40%, transparent 65%);
  transition: opacity 480ms cubic-bezier(.18,.9,.2,1), background-position 480ms cubic-bezier(.18,.9,.2,1);
  mix-blend-mode: screen;
}

/* Slightly stronger shadow on hover to emphasize depth */
.card-tilt:hover { box-shadow: 0 20px 40px rgba(2,6,23,0.12); }

/* 3D hover transform for cards */
.card-3d {
  transform-style: preserve-3d;
  transform: perspective(1000px) rotateX(calc(var(--tiltY) * 1deg)) rotateY(calc(var(--tiltX) * 1deg)) translateZ(0);
  transition: transform 420ms cubic-bezier(.18,.9,.2,1), box-shadow 340ms ease;
  will-change: transform;
}

.card-3d:hover {
  transform: perspective(1100px) translateZ(8px) rotateX(calc(var(--tiltY) * 1deg + 4deg)) rotateY(calc(var(--tiltX) * 1deg - 10deg)) scale(1.035);
  box-shadow: 0 26px 56px rgba(2,6,23,0.5);
}

/* Depth effects for card children */
.card-3d .decorative-icon {
  transition: transform 460ms cubic-bezier(.18,.9,.2,1), opacity 380ms ease;
  transform: translateZ(0);
}

.card-3d .icon-container {
  transition: transform 420ms cubic-bezier(.18,.9,.2,1);
  transform: translateZ(0);
}

.card-3d:hover .decorative-icon {
  transform: translateZ(44px) translateY(-6px) translateX(6px) rotateZ(-8deg) scale(1.03);
  opacity: 0.9;
}

.card-3d:hover .icon-container {
  transform: translateZ(56px) translateY(-8px) rotateZ(6deg);
}

/* Stronger 3D variant for prominent cards */
.card-3d-strong { transform-style: preserve-3d; transform: perspective(1100px) rotateX(calc(var(--tiltY) * 1.2deg)) rotateY(calc(var(--tiltX) * 1.2deg)); transition: transform 360ms cubic-bezier(.16,.9,.2,1), box-shadow 300ms ease; }
.card-3d-strong:hover { transform: perspective(1200px) translateZ(14px) rotateX(calc(6deg + var(--tiltY) * 0.6deg)) rotateY(calc(-14deg + var(--tiltX) * 0.6deg)) scale(1.06); box-shadow: 0 40px 80px rgba(2,6,23,0.6); }
.card-3d-strong > .decorative-icon { transform: translateZ(60px); transition: transform 420ms cubic-bezier(.16,.9,.2,1), opacity 380ms ease; }
.card-3d-strong:hover > .decorative-icon { transform: translateZ(96px) translateY(-8px) rotateZ(-10deg) scale(1.05); opacity: 0.95; }
.card-3d-strong > .icon-container { transform: translateZ(44px); transition: transform 420ms cubic-bezier(.16,.9,.2,1); }
.card-3d-strong:hover > .icon-container { transform: translateZ(96px) translateY(-10px) rotateZ(8deg); }

/* Deep-blue full-around shadow for Dashboard Preview */
.dashboard-preview-shadow {
  box-shadow:
    0 30px 60px rgba(0,26,61,0.40),
    0 -18px 40px rgba(0,26,61,0.16),
    28px 0 40px rgba(0,26,61,0.12),
    -28px 0 40px rgba(0,26,61,0.12);
  border-radius: 16px;
}

.dashboard-preview-shadow:hover {
  box-shadow:
    0 40px 90px rgba(0,26,61,0.48),
    0 -22px 50px rgba(0,26,61,0.18),
    34px 0 50px rgba(0,26,61,0.14),
    -34px 0 50px rgba(0,26,61,0.14);
  transform: translateY(-4px);
}

/* Floating micro-motion for prominent cards */
@keyframes floaty {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0px); }
}
.card-3d-strong { animation: floaty 6.8s ease-in-out infinite; }

/* Parallax helpers for decorative elements */
.parallax { transform: translate3d(calc(var(--tiltX) * -6px), calc(var(--tiltY) * -6px), 0); transition: transform 420ms cubic-bezier(.18,.9,.2,1); }

/* Make decorative icon respond to pointer for layers */
.card-3d .decorative-icon { transform: translateZ(0) translateX(calc(var(--tiltX) * 6px)) translateY(calc(var(--tiltY) * 6px)); }
.card-3d-strong .decorative-icon { transform: translateZ(60px) translateX(calc(var(--tiltX) * 10px)) translateY(calc(var(--tiltY) * 10px)); }

/* more pronounced hero highlight using pointer */
.hero-ambient { background: radial-gradient(circle at var(--mx,50%) var(--my,50%), rgba(59,130,246,0.12), transparent 35%); transition: background-position 360ms linear; }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .slide-left, .slide-right, .reveal, .card-tilt { animation-duration: 250ms !important; transition-duration: 200ms !important; }
  .card-tilt::before { display: none; }
}

/* First-visit full-screen overlay */
.first-visit-overlay {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(180deg, rgba(0,10,30,0.92) 0%, rgba(0,6,20,0.96) 100%);
  color: white;
  padding: 3rem;
  text-align: center;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}

.first-visit-overlay .brand {
  font-weight: 800;
  font-size: 2.6rem;
  letter-spacing: -0.02em;
}

.first-visit-overlay .subtitle {
  margin-top: 0.75rem;
  color: rgba(255,255,255,0.9);
  font-size: 1.05rem;
}

.first-visit-overlay .enter-btn {
  margin-top: 1.6rem;
  background: white;
  color: #001A3D;
  padding: 0.85rem 1.6rem;
  border-radius: 12px;
  font-weight: 700;
  box-shadow: 0 12px 30px rgba(2,6,23,0.36);
}

/* optional small fade animation when overlay dismisses */
.overlay-fade { transition: opacity 420ms ease, transform 420ms ease; }
.overlay-fade.hidden { opacity: 0; transform: translateY(-8px) scale(0.995); pointer-events: none; }

/* utility to stagger reveal children using --delay variable */
.reveal { transition-delay: var(--delay, 0ms); }
